# set to True or False if station inventories should be passed in the processing function
# If you don't need inventories (usually useful for removing the instrumental response from the Stream object)
# set to False, as this will speed up the processing loop
# If missing (e.g., by deleting the line below), it defaults to False
inventory: True

# set to True or False if station inventories should be saved when they need to be downloaded
# If missing (e.g., by deleting the line below), it defaults to False. This parameter has effect only if inventory above is True
# Saving inventories might speed up further processing but increases db size
save_downloaded_inventory: False

# The next parameter, segment_select, needs some explanation:
# It is a dict-like parameter which controls which segments should be processed:
# if given, the selection is done on the database side *before* starting
# the processing and thus is much more efficient than doing the check for each segment
# inside the user-defined process function.
# The dict keys are properties of the currently processed segment (e.g., event.magnitude)
# The dict values are string expression which will be evaluated according to
# the relative key type (e.g., "==1", "[1, 4.5]" which means interval with endpoints,
# "(1,4.5)" which means interval without endpoints, ">=6", or a simple list of values: "1 3 4.5 7")
# Keys and relative types are listed below. 
# As an example: to select for processing only segments whose id is in a specified list of
# ids (say 1 4 5 67 89 342), with downloaded waveform data
# (non empty), whose event magnitude is greater in [4.5, 5.56] (endpoints included), and whose station start_time is not greater
# than 1st january 2016:
#
# segment_select:
#   has_data: true
#   id: "1 4 5 67 89 342"
#   event.latitude: "[4.5, 5.6]"
#   station.start_time: "<= 2016-01-01T00:00:00"
#
# ----------------------------------------------------
#
# Key                               Type
# =================================  =================
#    has_data                        bool
#    id                              int
#    event_distance_deg              float
#    start_time                      datetime.datetime
#    arrival_time                    datetime.datetime
#    end_time                        datetime.datetime
#
#    event.id                        str
#    event.time                      datetime.datetime
#    event.latitude                  float
#    event.longitude                 float
#    event.depth_km                  float
#    event.author                    str
#    event.catalog                   str
#    event.contributor               str
#    event.contributor_id            str
#    event.mag_type                  str
#    event.magnitude                 float
#    event.mag_author                str
#    event.event_location_name       str
#    
#    channel.id                      str
#    channel.location                str
#    channel.channel                 str
#    channel.depth                   float
#    channel.azimuth                 float
#    channel.dip                     float
#    channel.sensor_description      str
#    channel.scale                   float
#    channel.scale_freq              float
#    channel.scale_units             str
#    channel.sample_rate             float
#    
#    station.id                      str
#    station.network                 str
#    station.station                 str
#    station.latitude                float
#    station.longitude               float
#    station.elevation               float
#    station.site_name               str
#    station.start_time              datetime.datetime
#    station.end_time                datetime.datetime
#    
#    datacenter.id                   int
#    datacenter.station_query_url    str
#    datacenter.dataselect_query_url str
#    
#    run.id                          int
#    run.run_time                    datetime.datetime
#    run.program_version             str
#
#    (run refers to the download run of the segment)
#    
#    classes                         str either 'any' (segment which have at least one class assigned) or 'none' (segments with no class assigned)
#    classes.id                      int
#
# Finally, here the parameter. Each value must be a string (i.e., quoted with " or ')
# each string will be then splitted using shell-like syntax. In the (rare) cases where spaces
# should not seaprate chunks, they should be quoted again: for instance, select segments where
# its event 'author' is either 'Will Smith' or 'Ross' write:
#    event.author: "'Will Smith' Ross"
# By default, avoid processing null/empty-data segments:
segment_select:
  has_data: 'true'
# id: '<300'
  max_gap_ovlap_ratio: '<0.5'
  event.time: "(2014-01-01T00:00:00, 2014-12-31T23:59:59)"
  event.latitude: "[24, 70]"
  event.longitude: "[-11, 24]"

# custom parameters:
arrival_time_delay: -2.0
amp_ratio_threshold: 0.8
bandpass_freq_max: 30  # the max frequency, in Hz
bandpass_max_nyquist_ratio: 0.9  # the amount of freq_max to be taken. low-pass corner = max_nyquist_ratio * freq_max (defined above)
bandpass_corners: 2  # the corners
threshold_inside_tmin_tmax_percent: 0.90
threshold_inside_tmin_tmax_sec: 10.0
threshold_after_tmax_percent: 0.10
percentage_smoothing: 0.1
# the window length (in seconds). There will be two spectra, one calculated on
# AT-window_length (noisy signal), the other on AT+window_length ('normal' signal):
snr_window_length: 40  # snr_fixedwindow_in_sec
snr_threshold: 3
remove_response_water_level: 60
paz_wa:
  sensitivity: 2800
  zeros:
    - '0j'
  poles:
    - '-6.2832-4.7124j'     
    - '-6.2832+4.7124j'     
  gain: 1
remove_response_output: 'ACC'  # or 'VEL', 'DISP'
taper_max_percentage: 0.05  # the taper percentage used when tapering (applied on any tapered object)
freqs_interp:
 - 0.1
 - 0.106365
 - 0.113136
 - 0.120337
 - 0.127997
 - 0.136145
 - 0.144811
 - 0.154028
 - 0.163833
 - 0.174261
 - 0.185354
 - 0.197152
 - 0.209701
 - 0.22305
 - 0.237248
 - 0.252349
 - 0.268412
 - 0.285497
 - 0.30367
 - 0.323
 - 0.34356
 - 0.365429
 - 0.388689
 - 0.413431
 - 0.439747
 - 0.467739
 - 0.497512
 - 0.52918
 - 0.562864
 - 0.598692
 - 0.636801
 - 0.677336
 - 0.72045
 - 0.766309
 - 0.815088
 - 0.866971
 - 0.922156
 - 0.980855
 - 1.04329
 - 1.1097
 - 1.18033
 - 1.25547
 - 1.33538
 - 1.42038
 - 1.5108
 - 1.60696
 - 1.70925
 - 1.81805
 - 1.93378
 - 2.05687
 - 2.18779
 - 2.32705
 - 2.47518
 - 2.63273
 - 2.80031
 - 2.97856
 - 3.16816
 - 3.36982
 - 3.58432
 - 3.81248
 - 4.05516
 - 4.31328
 - 4.58784
 - 4.87987
 - 5.19049
 - 5.52088
 - 5.8723
 - 6.24609
 - 6.64368
 - 7.06657
 - 7.51638
 - 7.99483
 - 8.50372
 - 9.04501
 - 9.62076
 - 10.2332
 - 10.8845
 - 11.5774
 - 12.3143
 - 13.0982
 - 13.9319
 - 14.8187
 - 15.762
 - 16.7653
 - 17.8324
 - 18.9675
 - 20.1749
 - 21.4591
 - 22.825
 - 24.2779
 - 25.8233
 - 27.467
 - 29.2154
 - 31.075
 - 33.0531
 - 35.157
 - 37.3949
 - 39.7752
 - 42.307
 - 45.
